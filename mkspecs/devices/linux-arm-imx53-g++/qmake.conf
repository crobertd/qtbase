#
# qmake configuration for linux-arm-imx53-g++
#

MAKEFILE_GENERATOR      = UNIX
TARGET_PLATFORM	        = unix
TEMPLATE                = app
CONFIG                  += qt warn_on release incremental link_prl gdb_dwarf_index
QT                      += core gui
QMAKE_INCREMENTAL_STYLE = sublib

include(../../common/linux.conf)
include(../../common/gcc-base-unix.conf)
include(../../common/g++-unix.conf)

load(device_config)

# modifications to g++.conf
QMAKE_CC                = $${CROSS_COMPILE}gcc
QMAKE_CXX               = $${CROSS_COMPILE}g++
QMAKE_LINK              = $${QMAKE_CXX}
QMAKE_LINK_SHLIB        = $${QMAKE_CXX}

# modifications to linux.conf
QMAKE_AR                = $${CROSS_COMPILE}ar cqs
QMAKE_OBJCOPY           = $${CROSS_COMPILE}objcopy
QMAKE_STRIP             = $${CROSS_COMPILE}strip

QMAKE_CFLAGS_DEBUG      = -g -march=armv7-a -mtune=cortex-a8 -mfpu=neon -mfloat-abi=softfp
QMAKE_CXXFLAGS_DEBUG    = $$QMAKE_CFLAGS_DEBUG

QMAKE_CFLAGS_RELEASE    = -O2 -march=armv7-a -mtune=cortex-a8 -mfpu=neon -mfloat-abi=softfp
QMAKE_CXXFLAGS_RELEASE  = $$QMAKE_CFLAGS_RELEASE

QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/include
QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/include/glib-2.0
QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/lib/glib-2.0/include
QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/include/gstreamer-0.10
QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/include/libxml2
QMAKE_INCDIR            += $$[QT_SYSROOT]/usr/include/freetype2

QMAKE_LIBDIR            += $$[QT_SYSROOT]/usr/lib

QMAKE_LIBS              += -lglib-2.0
QMAKE_LIBS              += -lgthread-2.0
QMAKE_LIBS              += -lxml2
QMAKE_LIBS              += -lz
QMAKE_LIBS              += -lgmodule-2.0
QMAKE_LIBS              += -lgobject-2.0
QMAKE_LIBS              += -lfreetype
QMAKE_LIBS              += -lasound
QMAKE_LIBS              += -lpng
QMAKE_LIBS              += -ljpeg
QMAKE_LIBS              += -ltiff
QMAKE_LIBS				+= -lgsl-fsl

QMAKE_INCDIR_OPENGL_ES2 = $$[QT_SYSROOT]/usr/include/GLES2
QMAKE_LIBDIR_OPENGL_ES2 = $$[QT_SYSROOT]/usr/lib
QMAKE_LIBS_OPENGL_ES2   =  -lEGL -lGLESv2 -lgsl-fsl -l2dz160

QMAKE_INCDIR_EGL        = $$[QT_SYSROOT]/usr/include/GL
QMAKE_LIBDIR_EGL        = $$[QT_SYSROOT]/usr/lib

QT_QPA_DEFAULT_PLATFORM = eglfs
EGLFS_PLATFORM_HOOKS_SOURCES = $$PWD/qeglfshooks_tptng.cpp \
                               $$PWD/qtptnginputcontext.cpp
EGLFS_PLATFORM_HOOKS_HEADERS = $$PWD/qtptnginputcontext.h
DEFINES += QT_NO_EVDEV

load(qt_config)
